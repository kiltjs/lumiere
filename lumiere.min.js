!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.lumiere={})}(this,function(e){"use strict";var n=function(e,n,t){var i=e.requestFrame,o=e.cancel;if("now"in n==0){var r=t();n.timing&&n.timing.navigationStart&&(r=n.timing.navigationStart),n.now=function(){return t()-r}}function a(e){return e}return function(e,t,r,u){var m,c,w=[],f=function(){r&&r(),w.length&&w.forEach(function(e){e()})};return u=u||a,t(0===e?1:0),e>0?(m=n.now(),c=i(function o(){var r=n.now()-m;r>=e?(t(1),f()):(t(u(r/e)),c=i(o))})):f(),{then:function(e){w.push(e)},cancel:function(e){o(c)}}}}(function(e){if(e)return e;e={};for(var n=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)e.requestFrame=window[t[i]+"RequestAnimationFrame"],e.cancel=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];return e.requestFrame||(e.requestFrame=function(e,t){var i=(new Date).getTime(),o=Math.max(0,16-(i-n)),r=window.setTimeout(function(){e(i+o)},o);return n=i+o,r},e.cancel=function(e){clearTimeout(e)}),e}(window.requestAnimationFrame?{requestFrame:window.requestAnimationFrame,cancel:window.cancelAnimationFrame}:null),"performance"in window?window.performance:{},Date.now||function(){return(new Date).getTime()});e.animate=n,e.detectDuration=function(e){var n=0,t=window.getComputedStyle(e).animationDuration;return t&&t.replace(/([0-9](\.[0-9])?)(m)?s/,function(e,t,i,o){n+=o?Number(t):1e3*Number(t)}),window.getComputedStyle(e).animationDelay&&window.getComputedStyle(e).animationDelay.replace(/([0-9](\.[0-9])?)(m)?s/,function(e,t,i,o){n+=o?Number(t):1e3*Number(t)}),(t=window.getComputedStyle(e).transitionDuration)&&t.replace(/([0-9](\.[0-9])?)(m)?s/,function(e,t,i,o){(t=o?Number(t):1e3*Number(t))>n&&(n=t)}),n},Object.defineProperty(e,"__esModule",{value:!0})});